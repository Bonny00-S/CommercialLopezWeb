@{
    Layout = null;
    ViewData["Title"] = "Nueva Contraseña";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nueva Contraseña - Commercial López</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#1a1a1a] flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-md bg-[#2a2a2a] shadow-xl rounded-2xl p-8 border border-gray-700">

        <h2 class="text-3xl font-bold text-center text-white mb-6 tracking-wide">
            Establecer Nueva Contraseña
        </h2>

        @if (ViewBag.Error != null)
        {
            <div class="bg-red-500 bg-opacity-20 text-red-300 border border-red-600 px-4 py-3 rounded-lg mb-4 text-center">
                @ViewBag.Error
            </div>
        }

        <form method="post" id="newPassForm" class="space-y-5">

            <!-- IMPORTANTE: enviar email al controlador -->
            <input type="hidden" name="email" value="@ViewBag.Email" />

            <div>
                <label class="block text-gray-300 font-medium mb-1">Nueva contraseña</label>
                <input type="password" name="newPassword" id="newPassword"
                       class="w-full px-4 py-2 bg-[#3a3a3a] text-white border border-gray-600 rounded-lg
                              focus:ring-2 focus:ring-orange-500 focus:outline-none"
                       placeholder="********" required />
                <span id="newPassError" class="text-red-400 text-sm"></span>
            </div>

            <div>
                <label class="block text-gray-300 font-medium mb-1">Confirmar contraseña</label>
                <input type="password" name="confirmPassword" id="confirmPassword"
                       class="w-full px-4 py-2 bg-[#3a3a3a] text-white border border-gray-600 rounded-lg
                              focus:ring-2 focus:ring-orange-500 focus:outline-none"
                       placeholder="********" required />
                <span id="confirmError" class="text-red-400 text-sm"></span>
            </div>

            <button type="submit"
                    class="w-full bg-orange-500 text-white py-2 rounded-lg font-semibold
                           hover:bg-orange-600 transition shadow-lg">
                Guardar nueva contraseña
            </button>

        </form>
    </div>

    <script src="~/js/set-new-password-validation.js"></script>
</body>
</html>
