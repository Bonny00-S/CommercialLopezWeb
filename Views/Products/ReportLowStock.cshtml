@model IEnumerable<ProyectoWebCommercialLopez.Models.Product>

<div class="flex items-center justify-between mb-6">
    <h2 class="text-3xl font-extrabold text-gray-800 flex items-center gap-2">
        ⚠️ Productos con Stock Bajo
    </h2>

    <a class="inline-flex items-center gap-2 bg-red-600 hover:bg-red-700
              text-white font-semibold px-5 py-2.5 rounded-lg shadow-md transition"
       href="@Url.Action("ReportLowStockPdf", "Products")">
        <i class="fas fa-file-pdf"></i> Exportar PDF
    </a>
</div>

<div class="bg-white shadow-xl rounded-2xl overflow-hidden border">
    <table class="min-w-full text-left">
        <thead class="bg-gray-900 text-white uppercase text-sm tracking-wide">
            <tr>
                <th class="py-3 px-5">Producto</th>
                <th class="py-3 px-5">Categoría</th>
                <th class="py-3 px-5">Stock</th>
                <th class="py-3 px-5">Precio (Bs)</th>
            </tr>
        </thead>

        <tbody class="text-gray-700 text-sm">
            @foreach (var p in Model)
            {
                // Si el stock es muy bajo (<5) rojo. Si es bajo pero no crítico (<10) naranja.
                var rowClass = p.Stock < 5
                ? "bg-red-100 text-red-700 font-semibold"
                : "bg-yellow-100 text-yellow-700 font-medium";

                <tr class="@($"{rowClass} hover:bg-gray-200 transition border-b")">
                    <td class="py-3 px-5">@p.Description</td>
                    <td class="py-3 px-5">@p.Category.Name</td>
                    <td class="py-3 px-5">@p.Stock</td>
                    <td class="py-3 px-5">@p.Price.ToString("N2") Bs</td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div class="mt-6">
    <a class="inline-flex items-center gap-2 bg-gray-700 hover:bg-gray-800
              text-white font-semibold px-4 py-2.5 rounded-lg shadow-md transition"
       href="@Url.Action("Index", "Products")">
        <i class="fas fa-arrow-left"></i> Volver
    </a>
</div>

